---
layout: nil
title: Feature Matrix

results_url: 'data.json'
---
<!-- Putting these here for now, because we don't have an asset pipeline hooked up -->
<script src="http://code.angularjs.org/1.2.9/angular.js"></script>
<script src="http://code.angularjs.org/1.2.9/angular-resource.js"></script>
<script src="http://bazalt-cms.com/assets/ng-table/0.3.1/ng-table.js"></script>
<link href="http://bazalt-cms.com/assets/ng-table/0.3.1/ng-table.css" rel="stylesheet">
<!-- FontAwesome... just for chevrons -->
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="/css/dashboard.css" rel="stylesheet">
<script type="text/javascript">
  var app = angular.module('main', ['ngTable', 'ngResource']).controller('DemoCtrl', function ($scope, $timeout, $resource, $filter, ngTableParams) {
    var Api = $resource('{{ page.results_url }}');

    $scope.tableParams = new ngTableParams({
        page: 1, // show first page
        count: -1, // count per page
        sorting: {
          feature: 'asc' // initial sorting
        }
      }, {
        groupBy: 'product',
        getData: function ($defer, params) {
          Api.get(params.url(), function (data) {
            $timeout(function() {
              var orderedData = params.sorting() ?
                $filter('orderBy')(data.results, $scope.tableParams.orderBy()) :
                data;

              params.total(data.results.length);
              $defer.resolve(orderedData.slice((params.page() - 1) * params.count(), params.page() * params.count()));
            }, 500)
          });
        }
      });
  });
  // Change default syntax so it doesn't conflict w/ liquid, makes it easier to embed w/in jekyll
  app.config([
    '$interpolateProvider', function($interpolateProvider) {
      return $interpolateProvider.startSymbol('[[').endSymbol(']]');
    }
  ]);
</script>
<div ng-app="main" ng-controller="DemoCtrl">
  <table class="table" ng-table="tableParams">
    <tbody ng-repeat="group in $groups">
      <tr class="ng-table-group">
        <td colspan="[[$columns.length]]">
          <a href="" ng-click="group.$hideRows = !group.$hideRows"><span class="fa" ng-class="{ 'fa-chevron-right': group.$hideRows, 'fa-chevron-down': !group.$hideRows }"></span><strong> [[ group.value ]] </strong></a>
        </td>
      </tr>
      <tr ng-hide="group.$hideRows" ng-repeat="feature in group.data">
        <td data-title="'Feature'" sortable="'feature'">
          [[feature.feature]]
        </td>
        {% for sdk_hash in site.data.sdks %}
          {% assign sdk_name = sdk_hash[0] %}
          {% assign sdk_handle = sdk_name | downcase | replace: ' ', '_' | replace: '-', '_' | replace: '.', "_" %}
          {% assign sdk = sdk_hash[1] %}
          <td data-title="'{{ sdk_name }}'" ng-class="{'passed': feature.{{ sdk_handle }} === 'passed', 'failed': feature.{{ sdk_handle }} === 'failed'}" sortable="'{{ sdk_handle }}'">
            [[feature.{{ sdk_handle }}]]
          </td>
        {% endfor %}
      </tr>
    </tbody>
  </table>
</div>